<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="530px" preserveAspectRatio="none" style="width:1318px;height:530px;background:#FFFFFF;" version="1.1" viewBox="0 0 1318 530" width="1318px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="265" x="519.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="255" x="524.5" y="23.5352">Dynamic Business Rules Validation</text><!--MD5=[9557edfb812cf928cffae7a340b90de3]
cluster FPKD--><g id="cluster_FPKD"><path d="M8.5,43.4883 L114.5,43.4883 A3.75,3.75 0 0 1 117,45.9883 L124,65.9766 L176.5,65.9766 A2.5,2.5 0 0 1 179,68.4766 L179,361.9883 A2.5,2.5 0 0 1 176.5,364.4883 L8.5,364.4883 A2.5,2.5 0 0 1 6,361.9883 L6,45.9883 A2.5,2.5 0 0 1 8.5,43.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="124" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="10" y="59.0234">Federated PKD</text></g><!--MD5=[a6de9d9915f9412a05a4044d316e2ca5]
cluster ML--><g id="cluster_ML"><path d="M32.5,86.4883 L114.5,86.4883 A3.75,3.75 0 0 1 117,88.9883 L124,108.9766 L152.5,108.9766 A2.5,2.5 0 0 1 155,111.4766 L155,337.9883 A2.5,2.5 0 0 1 152.5,340.4883 L32.5,340.4883 A2.5,2.5 0 0 1 30,337.9883 L30,88.9883 A2.5,2.5 0 0 1 32.5,86.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="124" y1="108.9766" y2="108.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="81" x="34" y="102.0234">Master List</text></g><!--MD5=[76a7941650215bf6169ab5ffe483257b]
cluster BRL--><g id="cluster_BRL"><path d="M9.5,388.4883 L166.5,388.4883 A3.75,3.75 0 0 1 169,390.9883 L176,410.9766 L176.5,410.9766 A2.5,2.5 0 0 1 179,413.4766 L179,520.9883 A2.5,2.5 0 0 1 176.5,523.4883 L9.5,523.4883 A2.5,2.5 0 0 1 7,520.9883 L7,390.9883 A2.5,2.5 0 0 1 9.5,388.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="7" x2="176" y1="410.9766" y2="410.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="156" x="11" y="404.0234">Business Rule Library</text></g><!--MD5=[703d4311c05d913f878c7b89e97ba682]
entity pk1ml--><g id="elem_pk1ml"><rect fill="#F1F1F1" height="84.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="46" y="121.4883"/><image height="48" width="48" x="56" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABXElEQVR4Xu2X0RVFMAyGrWAEoxjBCEYxghGMYCQjdIObo63qT5vrND085HtxkaSfinIb8zEaPPA2KsShQhwqxKFCHCrEkRPatm2e577vu65rdtq2pd1pmugURgtxL0TjjeNoJVIMw1BD60ZoXVccPM2yLJhfBgrRPcIxOSgFipQQCT2amzOC8xSEqCFwnCdI9VMQYrs4D/V4qFqAEyqcHovIJDmhTC/T2nO0CP041iRxIiFa7vD8DtnAddMuHcQ4CWx9t0ld9+3jQwcxTgJb3G8SBIsYjJPAVc4PEBRiME4CV9luPnfLUk1NotemTtkXYut/9bGvvTBiqAfjBF8dlH4qi2C0B+POQiWTdF0/AUzwYNxZyNT8/MAED8aBkMl2d4p/PtAwx4NxVyHzcJ7YubFgmgfjboVMhY98TPZgXErIssn9DYo1AhiXF3oFFeJQIQ4V4lAhDhXi+JzQD2zWg1yEEXU8AAAAAElFTkSuQmCC" y="131.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="60" y="193.0234">Public Key</text></g><!--MD5=[5b9384fce1194ff083c8cea9fa016fc0]
entity pk2ml--><g id="elem_pk2ml"><rect fill="#F1F1F1" height="84.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="46" y="240.4883"/><image height="48" width="48" x="56" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABuElEQVR4Xu2XbbGDMBBFY6ESKgUJlYCESkACEiqhUioBCXHw7pRJZ/cmIeRr0pnX86tLls0hLIEa+2UYPjCan1CKtNC2beu6TtN0vV7NG/xAiIMY4uxqjoQw3zzPu0SM2+32er34zAqiQo/HgyeP83w++fxSwkK4HTxnCpzCVYoICGWtjaTJOrEQ+obnyaG+zVnI7+LL5YI120fx4/OsBcHpul42SshfHtjQRSPEQUqTVC6SEvJ7+bM2kuMmq+xuJYTtjqrLUQmlSVCEs3NQU/r9IUcllCZBEc7OQU3JtYtumYlfxhkSQrjc3KY2DYX8W2a8xz5pgwRZM5dEUxfQsqn9x74AvP9lzVwSG2MZ9/tdls2CG9B/dZRR7MRCrRbJlDqxEMBXBNcupcApIGQbdfdOrlNYyI5bp6iQPfeRf5LzTkdCO/7fIOzFCLHf6EkTnHRKCx2wLAtPe8gZpyoh28GpVsi2dmogZJs6tREKwhaamNMwIRNxGilkQk6DhYznNF7I6G/w/yTkwyIOlSOD3rCIQ+XIoDcs4lA5MugNizhUjgx6wyIOlSOD3rCIQ+XI4Bv4CaX4OqE/6mw+lV0+fqkAAAAASUVORK5CYII=" y="250.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="60" y="312.0234">Public Key</text></g><!--MD5=[5e76d99d9db60e26cab345b3835037b3]
entity ruler--><g id="elem_ruler"><rect fill="#F1F1F1" height="84.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="34" y="423.4883"/><image height="48" width="48" x="44" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB3klEQVR4Xu3XUZGEMAwGYCwgAUlIQAISkIAEJCABCUhAQhxchsxkS0rTFNruzdz9b5Rh+5GGLjTwy9LIgW/nD4OO4+i6bpomeeKaSiDSNGd0Uw2Qq4maaoDGcXQ1uqkGCDMMgxQFTAVBuFLbtvGh0VQKxH2TaioCEl2cZCoCwgnc+dq2ZdO+7+4pCur52iIguHuy0IQaxIlxHMFxvjAnSHSxMLVn3JHmrA1e5fxGPhD3zbquNLIsi5hexNdALpDoYjRFNWKlOHlA8zzLCdXc1oaSBwQpplBtKK9AeJe4NHxoMSm1oTwHcd/YTXptKA9BoostJosGHoP8h4hNob1YXynOQxAETJa9WE8aCO8SV4QPfZOvsdeGkgDivmGTDxJJqg3FChJdjKYSGrCD8N9ATqgmdaU4VhAG/8nltIE8qw0lAsK7dF/nLHV6XBuKBuK+wTcbHtTr9KY2lCBIdLHF9F4DCghnFZsKm253v5crxQmCIGC61WSpDUWC8C4tq+MmV20oFxD3Td/3NFJo91PyAYkuxi+6qCZvbSgfkKuxpIQGXJD43NSTfaU4lx4ymsppwH/KoqaiGvBBoJpKa+AWBAFTBQ2EQOCZ6mhAAYFjqqYBHQSnqaYGoqD6+QfF8gOGzyiLyQ8MvgAAAABJRU5ErkJggg==" y="433.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="48" y="495.0234">Business Rule</text></g><!--MD5=[5c9f6a9900cac971c70fae464a37b47f]
entity VA--><g id="elem_VA"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180" x="563" y="266.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="573" y="290.0234">Verification Application</text></g><!--MD5=[9cda142ceffc07a371652fc8727f7e19]
entity qr--><g id="elem_qr"><rect fill="#F1F1F1" height="84.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1161" y="242.4883"/><image height="48" width="48" x="1171" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAA7ElEQVR4Xu2SQQ7EIAwD+f9v9wd7sRTT1BDUqAUpc3QG14e232a0a/A1GNQe0NU9AA1ZRVk9NUiDBl9k9Rrlq1zh/RrU4/3TBr2f16BZftoghfJVrvB+Derx/gmDVrH6jJ4apEFDVlFWT+jXe5MaNGPXQdcfbIWuThB3atDMOWGQPdUofzX31KBZ/2mDsnKGHQZXL9nTvJxhh8HVS/Y0L2fYYXD1kj3Nyxl2GFy9ZE81EZ8dRjlI1GFMxGeHUQ4SdRgT8dlhlINEHcZEfHYY5SDxh1Ws/u4DHnYYXMdSBPtUDbrHPpU4aB+2G/QHixTFZFa9GiYAAAAASUVORK5CYII=" y="252.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1175" y="314.0234">Vaccine Credential</text></g><!--MD5=[8110a09066343e9f1af5befb1a206a7b]
reverse link pk1ml to VA--><g id="link_pk1ml_VA"><path d="M145.39,174.7283 C241.83,195.6283 449.49,240.6183 566.8,266.0283 " fill="none" id="pk1ml-backto-VA" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="140.68,173.7083,148.6305,179.5211,145.5669,174.7657,150.3224,171.7021,140.68,173.7083" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="222.5" y="184.0566">(Optional) Retrieve Business Rule Signing Key</text></g><!--MD5=[368dd690087189f16332526713fc5048]
reverse link ruler to VA--><g id="link_ruler_VA"><path d="M157.54,444.7383 C267.47,409.1083 490.34,336.8783 595.13,302.9183 " fill="none" id="ruler-backto-VA" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="152.87,446.2483,162.665,447.2766,157.6261,444.7058,160.197,439.6668,152.87,446.2483" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="196" y="321.0566">Retrieve Business Rule and (Optional) Verify Signature</text></g><!--MD5=[239debfcce23493010171ba1ad5d774d]
link VA to qr--><g id="link_VA_qr"><path d="M743.27,284.4883 C855.33,284.4883 1045.95,284.4883 1154.16,284.4883 " fill="none" id="VA-to-qr" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1159.01,284.4883,1150.01,280.4883,1154.01,284.4883,1150.01,288.4883,1159.01,284.4883" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="774" y="281.0566">Deserialize, Verify Signature, and Extract FHIR Resources</text></g><!--MD5=[239debfcce23493010171ba1ad5d774d]
link VA to qr--><g id="link_VA_qr"><path d="M730.45,302.9783 C744.52,305.6883 759.14,308.0483 773,309.4883 C931.26,325.9283 972.98,328.1283 1131,309.4883 C1138.68,308.5783 1146.61,307.3183 1154.51,305.8283 " fill="none" id="VA-to-qr-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1159.05,304.9383,1149.4513,302.7326,1154.1422,305.8942,1150.9807,310.5851,1159.05,304.9383" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="882.5" y="306.0566">Execute Business Rule</text></g><!--MD5=[ab3b8dc1f09dfc2a3f2febc5d037ee4f]
@startuml
hide stereotype
!include <material/common>
!include <material/key>
!include <material/key_variant>
!include <material/qrcode>
!include <material/ruler>

title Dynamic Business Rules Validation
left to right direction

package "Federated PKD"  as FPKD {
  package "Master List" as ML {
    MA_KEY(Black,1,pk1ml,rectangle,"Public Key")
    MA_KEY_VARIANT(Black,1,pk2ml,rectangle,"Public Key")
  }
}

package "Business Rule Library"  as BRL {
  MA_RULER(Black,1,ruler,rectangle,"Business Rule")
}

agent "Verification Application" as VA
MA_QRCODE(Black,1,qr,rectangle,"Vaccine Credential")

pk1ml <- - VA : (Optional) Retrieve Business Rule Signing Key
ruler <- - VA : Retrieve Business Rule and (Optional) Verify Signature
VA - -> qr : Deserialize, Verify Signature, and Extract FHIR Resources
VA - -> qr : Execute Business Rule
@enduml

@startuml
hide stereotype








sprite $ma_key [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
00000000016BDFFEB7100000000000000000000000000000
000000019FFFFFFFFFFA1000000000000000000000000000
0000004FFFFFFFFFFFFFF500000000000000000000000000
000006FFFFFFFFFFFFFFFF60000000000000000000000000
00004FFFFFFFFFFFFFFFFFF5000000000000000000000000
0001FFFFFFFFFFFFFFFFFFFF100000000000000000000000
0009FFFFFFFFFFFFFFFFFFFFA00000000000000000000000
001FFFFFFFFFFFFFFFFFFFFFF10000000000000000000000
006FFFFFFFFE5005DFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00BFFFFFFFE100001EFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00DFFFFFFF50000005FFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00FFFFFFFF00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00FFFFFFFF00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00DFFFFFFF50000005FFFFFFFFFFFFFFFFFFFFFFFFFFFF00
00BFFFFFFFD100001DFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
006FFFFFFFFE5005DFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
001FFFFFFFFFFFFFFFFFFFFFF100000000FFFFFFFF000000
0009FFFFFFFFFFFFFFFFFFFF9000000000FFFFFFFF000000
0001FFFFFFFFFFFFFFFFFFFE1000000000FFFFFFFF000000
00004FFFFFFFFFFFFFFFFFF50000000000FFFFFFFF000000
000006FFFFFFFFFFFFFFFF600000000000FFFFFFFF000000
0000004FFFFFFFFFFFFFF5000000000000FFFFFFFF000000
000000019FFFFFFFFFFA10000000000000FFFFFFFF000000
00000000016BDFFEB71000000000000000FFFFFFFF000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

skinparam folderBackgroundColor<<MA KEY>> White
sprite $ma_key_variant [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000016BDFFDB61000000000000000000000000000
00000000019FFFFFFFFFFA20000000000000000000000000
000000005FFFFFFFFFFFFFF4000000000000000000000000
00000006FFFFFFFFFFFFFFFF600000000000000000000000
0000005FFFFFFFFFFFFFFFFFF40000000000000000000000
000001FFFFFFFFFFFFFFFFFFFF1000000000000000000000
000009FFFFFE5005DFFFFFFFFF9000000000000000000000
00001FFFFFE100001EFFFFFFFFF100000000000000000000
00006FFFFF50000005FFFFFFFFF600000000000000000000
0000BFFFFF00000000FFFFFFFFFB00000000000000000000
0000DFFFFF00000000FFFFFFFFFD00000000000000000000
0000FFFFFF50000005FFFFFFFFFF00000000000000000000
0000FFFFFFD100001EFFFFFFFFFF00000000000000000000
0000DFFFFFFE5005EFFFFFFFFFFE00000000000000000000
0000BFFFFFFFFFFFFFFFFFFFFFFB00000000000000000000
00006FFFFFFFFFFFFFFFFFFFFFFA00000000000000000000
00001FFFFFFFFFFFFFFFFFFFFFFF80000000000000000000
000009FFFFFFFFFFFFFFFFFFFFFFF8000000000000000000
000001FFFFFFFFFFFFFFFFFFFFFFFF800000000000000000
0000004FFFFFFFFFFFFFFFFFFFFFFFF80000000000000000
00000006FFFFFFFFFFFFFFFFFFFFFFFF8000000000000000
000000004FFFFFFFFFFFFFFFFFFFFFFFF800000000000000
00000000019FFFFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000016BDFFEBAFFFFFFFFFFFFFFF8000000000000
000000000000000000007FFFFFFFFFFFFFFF800000000000
0000000000000000000007FFFFFFFFFFFFFFF80000000000
00000000000000000000007FFFFFFFFFFFFFFF8000000000
000000000000000000000007FFFFFFFFFFFFFFF800000000
000000000000000000000000000000FFFFFFFFFF80000000
000000000000000000000000000000FFFFFFFFFFF8000000
000000000000000000000000000000FFFFFFFFFFFF800000
000000000000000000000000000000FFFFFFFFFFFFF80000
000000000000000000000000000000FFFFFFFFFFFFFF0000
000000000000000000000000000000FFFFFFFFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000FFFFFFFF0000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

skinparam folderBackgroundColor<<MA KEY_VARIANT>> White
sprite $ma_qrcode [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF00
00FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF00
00FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF00
00FFFF0000FFFF0000FFFF0000FFFF0000FFFF0000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFF000000000000FFFF0000FFFF000000000000FFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFFFFFFFFFF00
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFF0000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFF0000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFF0000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFFFFFF0000FFFFFFFF00
00FFFF000000000000FFFF0000FFFF0000FFFF0000000000
00FFFF000000000000FFFF0000FFFF0000FFFF0000000000
00FFFF000000000000FFFF0000FFFF0000FFFF0000000000
00FFFF000000000000FFFF0000FFFF0000FFFF0000000000
00FFFF0000FFFF0000FFFF0000FFFF00000000FFFFFFFF00
00FFFF0000FFFF0000FFFF0000FFFF00000000FFFFFFFF00
00FFFF0000FFFF0000FFFF0000FFFF00000000FFFFFFFF00
00FFFF0000FFFF0000FFFF0000FFFF00000000FFFFFFFF00
00FFFF000000000000FFFF00000000FFFFFFFF0000FFFF00
00FFFF000000000000FFFF00000000FFFFFFFF0000FFFF00
00FFFF000000000000FFFF00000000FFFFFFFF0000FFFF00
00FFFF000000000000FFFF00000000FFFFFFFF0000FFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFF00000000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFF00000000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFF00000000FFFFFFFF00
00FFFFFFFFFFFFFFFFFFFF0000FFFF00000000FFFFFFFF00
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

skinparam folderBackgroundColor<<MA QRCODE>> White
sprite $ma_ruler [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000001D70000000000
00000000000000000000000000000000001DFF7000000000
0000000000000000000000000000000001DFFFF700000000
0000000000000000000000000000000008FFFFFF70000000
00000000000000000000000000000000009FFFFFF7000000
000000000000000000000000000000130009FFFFFF700000
000000000000000000000000000001DF30009FFFFFF70000
00000000000000000000000000001DFFF30009FFFFFF7000
00000000000000000000000000007FFFFE3002FFFFFFD000
000000000000000000000000000008FFFFF32EFFFFFE2000
0000000000000000000000000130008FFFFEEFFFFFD10000
0000000000000000000000001DF4005FFFFFFFFFFD100000
000000000000000000000001DFFF45FFFFFFFFFFE2000000
000000000000000000000006FFFFFFFFFFFFFFFD10000000
0000000000000000000000006FFFFFFFFFFFFFE200000000
00000000000000000000150006FFFFFFFFFFFD1000000000
00000000000000000001DF50006FFFFFFFFFE20000000000
0000000000000000001DFFF50006FFFFFFFE200000000000
0000000000000000005FFFFF5002FFFFFFD1000000000000
00000000000000000005FFFFF52EFFFFFE20000000000000
000000000000000160005FFFFFEFFFFFD100000000000000
000000000000001DF6005FFFFFFFFFFE2000000000000000
00000000000001DFFF65FFFFFFFFFFE20000000000000000
00000000000004FFFFFFFFFFFFFFFD100000000000000000
000000000000003FFFFFFFFFFFFFE2000000000000000000
0000000000170004FFFFFFFFFFFD10000000000000000000
0000000001DF80003FFFFFFFFFE200000000000000000000
000000001DFFF80003FFFFFFFE2000000000000000000000
000000003EFFFF8002EFFFFFD10000000000000000000000
0000000003EFFFF82EFFFFFE200000000000000000000000
00000180003FFFFFFFFFFFD1000000000000000000000000
00001DFA005FFFFFFFFFFE20000000000000000000000000
0001DFFF95FFFFFFFFFFD100000000000000000000000000
000DFFFFFFFFFFFFFFFD1000000000000000000000000000
0007FFFFFFFFFFFFFFE20000000000000000000000000000
00007FFFFFFFFFFFFE200000000000000000000000000000
000007FFFFFFFFFFE2000000000000000000000000000000
0000007FFFFFFFFE20000000000000000000000000000000
00000007FFFFFFE200000000000000000000000000000000
000000007FFFFE2000000000000000000000000000000000
0000000007FFE20000000000000000000000000000000000
00000000007E200000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

skinparam folderBackgroundColor<<MA RULER>> White

title Dynamic Business Rules Validation
left to right direction

package "Federated PKD"  as FPKD {
  package "Master List" as ML {
    rectangle "<color:Black><$ma_key{scale=1}></color>\r Public Key" as pk1ml <<MA KEY>>
    rectangle "<color:Black><$ma_key_variant{scale=1}></color>\r Public Key" as pk2ml <<MA KEY_VARIANT>>
  }
}

package "Business Rule Library"  as BRL {
  rectangle "<color:Black><$ma_ruler{scale=1}></color>\r Business Rule" as ruler <<MA RULER>>
}

agent "Verification Application" as VA
rectangle "<color:Black><$ma_qrcode{scale=1}></color>\r Vaccine Credential" as qr <<MA QRCODE>>

pk1ml <- - VA : (Optional) Retrieve Business Rule Signing Key
ruler <- - VA : Retrieve Business Rule and (Optional) Verify Signature
VA - -> qr : Deserialize, Verify Signature, and Extract FHIR Resources
VA - -> qr : Execute Business Rule
@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>